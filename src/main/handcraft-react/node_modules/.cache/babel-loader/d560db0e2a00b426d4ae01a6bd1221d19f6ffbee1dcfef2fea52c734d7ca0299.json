{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";var initialState={cartItems:[],total:0,isLoadingCart:true,count:0,hello:[]};var cartSlice=createSlice({name:\"cart\",initialState:initialState,reducers:{clearCart:function clearCart(state){state.cartItems=[];state.count=0;},addToCart:function addToCart(state,action){var _action$payload=action.payload,product=_action$payload.product,cartCount=_action$payload.cartCount,cartColor=_action$payload.cartColor;var data=state.cartItems;var isAdded=data.filter(function(item){return item.item.productId===product.productId&&item.color===cartColor;});if(isAdded.length===0){data.push({item:product,count:cartCount,color:cartColor});}else{var addedData=data.filter(function(item){return item.item.productId===product.productId&&item.color===cartColor;});var index=data.findIndex(function(i){return i===addedData[0];});data[index].count+=cartCount;}state.count+=cartCount;},removeItem:function removeItem(state,action){var _action$payload2=action.payload,productId=_action$payload2.productId,color=_action$payload2.color,count=_action$payload2.count;state.cartItems=state.cartItems.filter(function(item){return item.item.productId!==productId||item.color!==color;});state.count-=count;},calculateTotals:function calculateTotals(state){var totalPrice=0;state.cartItems.forEach(function(cartItem){if(cartItem.item.discount>0){totalPrice+=cartItem.item.discountedPrice*cartItem.count;}else{totalPrice+=cartItem.item.price*cartItem.count;}});state.total=totalPrice;}}});var _cartSlice$actions=cartSlice.actions,clearCart=_cartSlice$actions.clearCart,removeItem=_cartSlice$actions.removeItem,calculateTotals=_cartSlice$actions.calculateTotals,addToCart=_cartSlice$actions.addToCart;export{clearCart,removeItem,calculateTotals,addToCart};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","cartItems","total","isLoadingCart","count","hello","cartSlice","name","reducers","clearCart","state","addToCart","action","_action$payload","payload","product","cartCount","cartColor","data","isAdded","filter","item","productId","color","length","push","addedData","index","findIndex","i","removeItem","_action$payload2","calculateTotals","totalPrice","forEach","cartItem","discount","discountedPrice","price","_cartSlice$actions","actions","reducer"],"sources":["C:/Users/Mehemmed/Desktop/Code{1}/Projects/handcraft/src/main/handcraft-react/src/Cart/cartSlice.ts"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  cartItems: [],\r\n  total: 0,\r\n  isLoadingCart: true,\r\n  count: 0,\r\n  hello: [],\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState,\r\n  reducers: {\r\n    clearCart: (state: any) => {\r\n      state.cartItems = [];\r\n      state.count = 0;\r\n    },\r\n\r\n    addToCart: (state: any, action) => {\r\n      const { product, cartCount, cartColor } = action.payload;\r\n      let data = state.cartItems;\r\n      let isAdded = data.filter(\r\n        (item: any) =>\r\n          item.item.productId === product.productId && item.color === cartColor\r\n      );\r\n      if (isAdded.length === 0) {\r\n        data.push({ item: product, count: cartCount, color: cartColor });\r\n      } else {\r\n        let addedData = data.filter(\r\n          (item: any) =>\r\n            item.item.productId === product.productId &&\r\n            item.color === cartColor\r\n        );\r\n        let index = data.findIndex((i: any) => i === addedData[0]);\r\n        data[index].count += cartCount;\r\n      }\r\n      state.count += cartCount;\r\n    },\r\n\r\n    removeItem: (state: any, action) => {\r\n      const { productId, color, count } = action.payload;\r\n      state.cartItems = state.cartItems.filter(\r\n        (item: any) => item.item.productId !== productId || item.color !== color\r\n      );\r\n      state.count -= count;\r\n\r\n    },\r\n\r\n    calculateTotals: (state: any) => {\r\n      let totalPrice = 0;\r\n      state.cartItems.forEach((cartItem: any) => {\r\n        if (cartItem.item.discount > 0) {\r\n          totalPrice += cartItem.item.discountedPrice * cartItem.count;\r\n        } else {\r\n          totalPrice += cartItem.item.price * cartItem.count;\r\n        }\r\n      });\r\n\r\n      state.total = totalPrice;\r\n    },\r\n  },\r\n});\r\nexport const { clearCart, removeItem, calculateTotals, addToCart } =\r\n  cartSlice.actions;\r\nexport default cartSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}