{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mehemmed\\\\Desktop\\\\Code{1}\\\\Projects\\\\handcraft\\\\src\\\\main\\\\handcraft-react\\\\src\\\\Admin\\\\Components\\\\HomePageManagement\\\\HomePageManagement.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Form, Input, Label } from \"semantic-ui-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst HomePageManagement = () => {\n  _s();\n  const [homepageElement, setHomepageElement] = useState([]);\n  const [bannerId, setBannerId] = useState();\n  const [images, setImages] = useState([]);\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const [httpError, setHttpError] = useState(\"\");\n  useEffect(() => {\n    const fetchHomeElement = async () => {\n      const url = \"http://localhost:8080/api/homepages\";\n      const request = await fetch(url);\n      if (!request.ok) {\n        throw new Error(\"Something went wrong!\");\n      }\n      const requestJson = await request.json();\n      setHomepageElement(requestJson._embedded.homepages);\n      setBannerId(requestJson._embedded.homepages[0].bannerProductId);\n      setImages(requestJson._embedded.homepages[0].carouselImages);\n    };\n    fetchHomeElement().catch(e => setHttpError(e.message));\n  }, []);\n  useEffect(() => {\n    const updateHomepage = async () => {\n      const url = \"http://localhost:8080/api/v1/homepage/update\";\n      const requestBody = {\n        Authorization: {\n          tokenType\n        }\n      };\n    };\n  });\n  // useEffect(() => {\n  //   const deconst = () => {\n  //     let listCarousel = null;\n  //     if (homepageElement.length > 0) {\n  //       const data = homepageElement[0].carouselImages[0];\n  //       const trimmedString = data.slice(1, -1);\n  //       listCarousel = trimmedString\n  //         .split('\",\"')\n  //         .map((item) => item.replace('\"', \"\"));\n  //       setImages(listCarousel);\n  //     }\n  //   };\n  //   deconst();\n  // }, [homepageElement]);\n\n  const deleteSelectedImage = indexImage => {\n    setImages(prevSelectedImages => {\n      return prevSelectedImages.filter((e, index) => index !== indexImage);\n    });\n  };\n  const addImageToList = () => {\n    setImages(prevImages => [...prevImages, imageUrl]);\n    setImageUrl(\"\");\n  };\n  if (httpError) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"content-page\",\n      children: httpError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"Home Page Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Home Carousel Images\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          className: \"my-1\",\n          value: imageUrl,\n          onChange: e => setImageUrl(e.target.value),\n          fluid: true,\n          placeholder: \"Please Add One or More Image Url One By One\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"button\",\n          onClick: addImageToList,\n          children: \"Add Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: images === null || images === void 0 ? void 0 : images.map((elem, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-2 selected-images\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              onClick: () => deleteSelectedImage(index),\n              children: \"\\u2718\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: elem,\n              alt: \"a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Label, {\n          children: \"Banner Product ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"number\",\n          min: \"0\",\n          value: bannerId,\n          className: \"mt-1\",\n          fluid: true,\n          onChange: e => setBannerId(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-product-btn\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"big\",\n            className: \"mt-3\",\n            primary: true,\n            type: \"submit\",\n            children: \"Update Homepage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(HomePageManagement, \"Zhv6Oc161cAZPd95UJBMNmspd4M=\");\n_c = HomePageManagement;\nexport default HomePageManagement;\nvar _c;\n$RefreshReg$(_c, \"HomePageManagement\");","map":{"version":3,"names":["React","useEffect","useState","Button","Form","Input","Label","jsxDEV","_jsxDEV","Fragment","_Fragment","HomePageManagement","_s","homepageElement","setHomepageElement","bannerId","setBannerId","images","setImages","imageUrl","setImageUrl","httpError","setHttpError","fetchHomeElement","url","request","fetch","ok","Error","requestJson","json","_embedded","homepages","bannerProductId","carouselImages","catch","e","message","updateHomepage","requestBody","Authorization","tokenType","deleteSelectedImage","indexImage","prevSelectedImages","filter","index","addImageToList","prevImages","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","fluid","placeholder","type","onClick","map","elem","src","alt","min","size","primary","_c","$RefreshReg$"],"sources":["C:/Users/Mehemmed/Desktop/Code{1}/Projects/handcraft/src/main/handcraft-react/src/Admin/Components/HomePageManagement/HomePageManagement.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Button, Form, Input, Label } from \"semantic-ui-react\";\r\nimport HomePageModel from \"../../../Models/HomePage\";\r\nconst HomePageManagement = () => {\r\n  const [homepageElement, setHomepageElement] = useState<HomePageModel[]>([]);\r\n  const [bannerId, setBannerId] = useState<string>();\r\n  const [images, setImages] = useState<string[]>([]);\r\n  const [imageUrl, setImageUrl] = useState(\"\");\r\n  const [httpError, setHttpError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchHomeElement = async () => {\r\n      const url = \"http://localhost:8080/api/homepages\";\r\n      const request = await fetch(url);\r\n      if (!request.ok) {\r\n        throw new Error(\"Something went wrong!\");\r\n      }\r\n      const requestJson = await request.json();\r\n      setHomepageElement(requestJson._embedded.homepages);\r\n      setBannerId(requestJson._embedded.homepages[0].bannerProductId)\r\n      setImages(requestJson._embedded.homepages[0].carouselImages)\r\n    };\r\n    fetchHomeElement().catch((e: any) => setHttpError(e.message));\r\n  }, []);\r\n\r\n  useEffect(()=>{\r\n    const updateHomepage = async() =>{\r\n      const url = \"http://localhost:8080/api/v1/homepage/update\"\r\n      const requestBody = {\r\n        Authorization:{tokenType} \r\n      }\r\n    }\r\n  })\r\n  // useEffect(() => {\r\n  //   const deconst = () => {\r\n  //     let listCarousel = null;\r\n  //     if (homepageElement.length > 0) {\r\n  //       const data = homepageElement[0].carouselImages[0];\r\n  //       const trimmedString = data.slice(1, -1);\r\n  //       listCarousel = trimmedString\r\n  //         .split('\",\"')\r\n  //         .map((item) => item.replace('\"', \"\"));\r\n  //       setImages(listCarousel);\r\n  //     }\r\n  //   };\r\n  //   deconst();\r\n  // }, [homepageElement]);\r\n\r\n  const deleteSelectedImage = (indexImage: number) => {\r\n    setImages((prevSelectedImages) => {\r\n      return prevSelectedImages.filter((e: any, index) => index !== indexImage);\r\n    });\r\n  };\r\n\r\n  const addImageToList = () => {\r\n    setImages((prevImages) => [...prevImages, imageUrl]);\r\n    setImageUrl(\"\");\r\n  };\r\n\r\n  if (httpError) {\r\n    return <p className=\"content-page\">{httpError}</p>;\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"content-page\">\r\n        <h2 className=\"text-center\">Home Page Management</h2>\r\n        <Form>\r\n          <Label>Home Carousel Images</Label>\r\n          <Input\r\n            className=\"my-1\"\r\n            value={imageUrl}\r\n            onChange={(e) => setImageUrl(e.target.value)}\r\n            fluid\r\n            placeholder=\"Please Add One or More Image Url One By One\"\r\n          />\r\n          <Button type=\"button\" onClick={addImageToList}>\r\n            Add Image\r\n          </Button>\r\n          <div className=\"row\">\r\n            {images?.map((elem: string, index: number) => (\r\n              <div key={index} className=\"col-2 selected-images\">\r\n                <p onClick={() => deleteSelectedImage(index)}>&#x2718;</p>\r\n                <img src={elem} alt=\"a\" />\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <br />\r\n          <Label>Banner Product ID</Label>\r\n          <Input\r\n            type=\"number\"\r\n            min=\"0\"\r\n            value={bannerId}\r\n            className=\"mt-1\"\r\n            fluid\r\n            onChange={(e) => setBannerId(e.target.value)}\r\n          />\r\n          <div className=\"add-product-btn\">\r\n            <Button\r\n              size=\"big\"\r\n              className=\"mt-3\"\r\n              primary\r\n              type=\"submit\"\r\n            >\r\n              Update Homepage\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePageManagement;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,MAAM,EAAEC,IAAI,EAAEC,KAAK,EAAEC,KAAK,QAAQ,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE/D,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGZ,QAAQ,CAAkB,EAAE,CAAC;EAC3E,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAS,CAAC;EAClD,MAAM,CAACe,MAAM,EAAEC,SAAS,CAAC,GAAGhB,QAAQ,CAAW,EAAE,CAAC;EAClD,MAAM,CAACiB,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACmB,SAAS,EAAEC,YAAY,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAE9CD,SAAS,CAAC,MAAM;IACd,MAAMsB,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnC,MAAMC,GAAG,GAAG,qCAAqC;MACjD,MAAMC,OAAO,GAAG,MAAMC,KAAK,CAACF,GAAG,CAAC;MAChC,IAAI,CAACC,OAAO,CAACE,EAAE,EAAE;QACf,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;MAC1C;MACA,MAAMC,WAAW,GAAG,MAAMJ,OAAO,CAACK,IAAI,CAAC,CAAC;MACxChB,kBAAkB,CAACe,WAAW,CAACE,SAAS,CAACC,SAAS,CAAC;MACnDhB,WAAW,CAACa,WAAW,CAACE,SAAS,CAACC,SAAS,CAAC,CAAC,CAAC,CAACC,eAAe,CAAC;MAC/Df,SAAS,CAACW,WAAW,CAACE,SAAS,CAACC,SAAS,CAAC,CAAC,CAAC,CAACE,cAAc,CAAC;IAC9D,CAAC;IACDX,gBAAgB,CAAC,CAAC,CAACY,KAAK,CAAEC,CAAM,IAAKd,YAAY,CAACc,CAAC,CAACC,OAAO,CAAC,CAAC;EAC/D,CAAC,EAAE,EAAE,CAAC;EAENpC,SAAS,CAAC,MAAI;IACZ,MAAMqC,cAAc,GAAG,MAAAA,CAAA,KAAU;MAC/B,MAAMd,GAAG,GAAG,8CAA8C;MAC1D,MAAMe,WAAW,GAAG;QAClBC,aAAa,EAAC;UAACC;QAAS;MAC1B,CAAC;IACH,CAAC;EACH,CAAC,CAAC;EACF;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAMC,mBAAmB,GAAIC,UAAkB,IAAK;IAClDzB,SAAS,CAAE0B,kBAAkB,IAAK;MAChC,OAAOA,kBAAkB,CAACC,MAAM,CAAC,CAACT,CAAM,EAAEU,KAAK,KAAKA,KAAK,KAAKH,UAAU,CAAC;IAC3E,CAAC,CAAC;EACJ,CAAC;EAED,MAAMI,cAAc,GAAGA,CAAA,KAAM;IAC3B7B,SAAS,CAAE8B,UAAU,IAAK,CAAC,GAAGA,UAAU,EAAE7B,QAAQ,CAAC,CAAC;IACpDC,WAAW,CAAC,EAAE,CAAC;EACjB,CAAC;EAED,IAAIC,SAAS,EAAE;IACb,oBAAOb,OAAA;MAAGyC,SAAS,EAAC,cAAc;MAAAC,QAAA,EAAE7B;IAAS;MAAA8B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EACpD;EACA,oBACE9C,OAAA,CAAAE,SAAA;IAAAwC,QAAA,eACE1C,OAAA;MAAKyC,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3B1C,OAAA;QAAIyC,SAAS,EAAC,aAAa;QAAAC,QAAA,EAAC;MAAoB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACrD9C,OAAA,CAACJ,IAAI;QAAA8C,QAAA,gBACH1C,OAAA,CAACF,KAAK;UAAA4C,QAAA,EAAC;QAAoB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACnC9C,OAAA,CAACH,KAAK;UACJ4C,SAAS,EAAC,MAAM;UAChBM,KAAK,EAAEpC,QAAS;UAChBqC,QAAQ,EAAGpB,CAAC,IAAKhB,WAAW,CAACgB,CAAC,CAACqB,MAAM,CAACF,KAAK,CAAE;UAC7CG,KAAK;UACLC,WAAW,EAAC;QAA6C;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC,eACF9C,OAAA,CAACL,MAAM;UAACyD,IAAI,EAAC,QAAQ;UAACC,OAAO,EAAEd,cAAe;UAAAG,QAAA,EAAC;QAE/C;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACT9C,OAAA;UAAKyC,SAAS,EAAC,KAAK;UAAAC,QAAA,EACjBjC,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE6C,GAAG,CAAC,CAACC,IAAY,EAAEjB,KAAa,kBACvCtC,OAAA;YAAiByC,SAAS,EAAC,uBAAuB;YAAAC,QAAA,gBAChD1C,OAAA;cAAGqD,OAAO,EAAEA,CAAA,KAAMnB,mBAAmB,CAACI,KAAK,CAAE;cAAAI,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eAC1D9C,OAAA;cAAKwD,GAAG,EAAED,IAAK;cAACE,GAAG,EAAC;YAAG;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA,GAFlBR,KAAK;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAGV,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACN9C,OAAA;UAAA2C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACN9C,OAAA,CAACF,KAAK;UAAA4C,QAAA,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAChC9C,OAAA,CAACH,KAAK;UACJuD,IAAI,EAAC,QAAQ;UACbM,GAAG,EAAC,GAAG;UACPX,KAAK,EAAExC,QAAS;UAChBkC,SAAS,EAAC,MAAM;UAChBS,KAAK;UACLF,QAAQ,EAAGpB,CAAC,IAAKpB,WAAW,CAACoB,CAAC,CAACqB,MAAM,CAACF,KAAK;QAAE;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C,CAAC,eACF9C,OAAA;UAAKyC,SAAS,EAAC,iBAAiB;UAAAC,QAAA,eAC9B1C,OAAA,CAACL,MAAM;YACLgE,IAAI,EAAC,KAAK;YACVlB,SAAS,EAAC,MAAM;YAChBmB,OAAO;YACPR,IAAI,EAAC,QAAQ;YAAAV,QAAA,EACd;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ;EAAC,gBACN,CAAC;AAEP,CAAC;AAAC1C,EAAA,CA3GID,kBAAkB;AAAA0D,EAAA,GAAlB1D,kBAAkB;AA6GxB,eAAeA,kBAAkB;AAAC,IAAA0D,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}