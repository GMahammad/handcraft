{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Mehemmed/Desktop/Code{1}/Projects/handcraft/src/main/handcraft-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Mehemmed/Desktop/Code{1}/Projects/handcraft/src/main/handcraft-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Mehemmed/Desktop/Code{1}/Projects/handcraft/src/main/handcraft-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Spinner from\"../../Utils/Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchItem=function SearchItem(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),httpError=_useState4[0],setHttpError=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoadingImage=_useState6[0],setIsLoadingImage=_useState6[1];useEffect(function(){var fetchImages=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,responseData,responseJson;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=\"http://localhost:8080/api/v1/products/getImages?productId=\".concat(props.product.productId);_context.next=3;return fetch(url);case 3:responseData=_context.sent;_context.next=6;return responseData.json();case 6:responseJson=_context.sent;if(responseData.ok){_context.next=9;break;}throw new Error(\"Something went during fetching images wrong!\");case 9:setImages(responseJson);setIsLoadingImage(false);case 11:case\"end\":return _context.stop();}},_callee);}));return function fetchImages(){return _ref.apply(this,arguments);};}();fetchImages().catch(function(err){setHttpError(err.message);});},[]);if(isLoadingImage){return/*#__PURE__*/_jsx(Spinner,{});}if(httpError){return/*#__PURE__*/_jsx(\"p\",{children:httpError});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"a\",{href:\"/detail:\".concat(props.product.productId),className:props.gridView?\"col-lg-4 col-md-6 text-decoration-none whole-product text-center\":\"text-decoration-none col-lg-12 whole-product text-center\",children:[props.gridView?/*#__PURE__*/_jsx(\"p\",{className:\"view-detail\",children:\"View Details\"}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(\"div\",{className:props.gridView?\"product-wrapper product-box-style my-3\":\"product-wrapper my-3 single-product-list product-list-right-pr w-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:props.gridView?\"col-lg-12\":\"col-12 col-sm-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-img\",children:[props.product.discount!==0?/*#__PURE__*/_jsxs(\"p\",{className:\"discount\",children:[\"-\",props.product.discount,\"% \"]}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"img\",{className:\"search-product-image mb-2\",src:images[0],alt:\"\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:props.gridView?\"col-lg-12\":\"col-11 col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:props.gridView?\"product-content\":\"product-content-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:!props.gridView?\"d-flex justify-content-between align-items-center\":\"\",children:[/*#__PURE__*/_jsx(\"h6\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"#\",children:[props.product.productName.length>30?\"\".concat(props.product.productName.slice(0,30),\"...\"):props.product.productName,\" \"]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[props.product.discount!==0?/*#__PURE__*/_jsxs(\"label\",{className:\"old-price\",children:[props.product.price,\"$\"]}):/*#__PURE__*/_jsx(_Fragment,{}),\" \",props.product.discount===0?\"\".concat(props.product.price,\"$\"):\"\".concat(props.product.discountedPrice,\"$\")]})]}),!props.gridView?/*#__PURE__*/_jsxs(\"div\",{className:\"product-list-cart\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-center product-description\",children:[/*#__PURE__*/_jsx(\"hr\",{}),props.product.productDescription]}),/*#__PURE__*/_jsx(\"div\",{className:\"add-to-card-list text-center mt-5\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Add to cart\"})})]}):/*#__PURE__*/_jsx(_Fragment,{})]})})]})]})});};export default SearchItem;","map":{"version":3,"names":["React","useEffect","useState","Spinner","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","SearchItem","props","_useState","_useState2","_slicedToArray","images","setImages","_useState3","_useState4","httpError","setHttpError","_useState5","_useState6","isLoadingImage","setIsLoadingImage","fetchImages","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","responseData","responseJson","wrap","_callee$","_context","prev","next","concat","product","productId","fetch","sent","json","ok","Error","stop","apply","arguments","catch","err","message","children","href","className","gridView","discount","src","alt","productName","length","slice","price","discountedPrice","productDescription"],"sources":["C:/Users/Mehemmed/Desktop/Code{1}/Projects/handcraft/src/main/handcraft-react/src/SearchProduct/Components/SearchItem.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport ProductModel from \"../../Models/ProductModel\";\r\nimport Spinner from \"../../Utils/Spinner\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nconst SearchItem: React.FC<{\r\n  productId: number;\r\n  product: ProductModel;\r\n  key: number;\r\n  gridView: boolean;\r\n  mobile: boolean;\r\n}> = (props) => {\r\n  const [images, setImages] = useState([]);\r\n  const [httpError, setHttpError] = useState(\"\");\r\n  const [isLoadingImage, setIsLoadingImage] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchImages = async () => {\r\n      const url = `http://localhost:8080/api/v1/products/getImages?productId=${props.product.productId}`;\r\n      const responseData = await fetch(url);\r\n      const responseJson = await responseData.json();\r\n      if (!responseData.ok) {\r\n        throw new Error(\"Something went during fetching images wrong!\");\r\n      }\r\n      setImages(responseJson);\r\n      setIsLoadingImage(false);\r\n    };\r\n    fetchImages().catch((err) => {\r\n      setHttpError(err.message);\r\n    });\r\n  }, []);\r\n\r\n  if (isLoadingImage) {\r\n    return <Spinner />;\r\n  }\r\n  if (httpError) {\r\n    return <p>{httpError}</p>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <a\r\n        href={`/detail:${props.product.productId}`}\r\n        className={\r\n          props.gridView\r\n            ? \"col-lg-4 col-md-6 text-decoration-none whole-product text-center\"\r\n            : \"text-decoration-none col-lg-12 whole-product text-center\"\r\n        }\r\n      >\r\n        {props.gridView ? <p className=\"view-detail\">View Details</p> : <></>}\r\n        <div\r\n          className={\r\n            props.gridView\r\n              ? \"product-wrapper product-box-style my-3\"\r\n              : \"product-wrapper my-3 single-product-list product-list-right-pr w-100\"\r\n          }\r\n        >\r\n          <div className={props.gridView ? \"col-lg-12\" : \"col-12 col-sm-5\"}>\r\n            <div className=\"product-img\">\r\n              {props.product.discount !== 0 ? (\r\n                <p className=\"discount\">-{props.product.discount}% </p>\r\n              ) : (\r\n                <></>\r\n              )}\r\n              <img\r\n                className=\"search-product-image mb-2\"\r\n                src={images[0]}\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className={props.gridView ? \"col-lg-12\" : \"col-11 col-sm-6\"}>\r\n            <div\r\n              className={\r\n                props.gridView ? \"product-content\" : \"product-content-list\"\r\n              }\r\n            >\r\n              <div\r\n                className={\r\n                  !props.gridView\r\n                    ? \"d-flex justify-content-between align-items-center\"\r\n                    : \"\"\r\n                }\r\n              >\r\n                <h6>\r\n                  <a href=\"#\">\r\n                    {props.product.productName.length > 30\r\n                      ? `${props.product.productName.slice(0, 30)}...`\r\n                      : props.product.productName}{\" \"}\r\n                  </a>\r\n                </h6>\r\n                <p className=\"product-price\">\r\n                  {props.product.discount !== 0 ? (\r\n                    <label className=\"old-price\">{props.product.price}$</label>\r\n                  ) : (\r\n                    <></>\r\n                  )}{\" \"}\r\n                  {props.product.discount === 0\r\n                    ? `${props.product.price}$`\r\n                    : `${props.product.discountedPrice}$`}\r\n                </p>\r\n              </div>\r\n              {!props.gridView ? (\r\n                <div className=\"product-list-cart\">\r\n                  <p className=\"text-center product-description\">\r\n                    <hr />\r\n                    {props.product.productDescription}\r\n                  </p>\r\n                  <div className=\"add-to-card-list text-center mt-5\">\r\n                    <a href=\"#\">Add to cart</a>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <></>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </a>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchItem;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}