{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Mehemmed/Desktop/Code{1}/Projects/handcraft/src/main/handcraft-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Mehemmed/Desktop/Code{1}/Projects/handcraft/src/main/handcraft-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Mehemmed/Desktop/Code{1}/Projects/handcraft/src/main/handcraft-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Table}from\"semantic-ui-react\";import{useSelector}from\"react-redux\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AuthList=function AuthList(props){var _useSelector=useSelector(function(store){return store.auth;}),tokenType=_useSelector.tokenType,accessToken=_useSelector.accessToken;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];useEffect(function(){var fetchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,requestBody,request,requestJson;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=\"http://localhost:8080/api/roleses/\".concat(props.roleID,\"/users\");requestBody={method:\"GET\",headers:{Authorization:\"\".concat(tokenType,\" \").concat(accessToken),\"Content-Type\":\"application/json\"}};_context.next=4;return fetch(url,requestBody);case 4:request=_context.sent;if(request.ok){_context.next=7;break;}throw new Error(\"Something went wrong!\");case 7:_context.next=9;return request.json();case 9:requestJson=_context.sent;setUsers(requestJson._embedded.users);case 11:case\"end\":return _context.stop();}},_callee);}));return function fetchUsers(){return _ref.apply(this,arguments);};}();fetchUsers().catch(function(e){return e.message;});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"content-page\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"create-product-header text-center\",children:[props.header,\" List\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(Table,{celled:true,fixed:true,singleLine:true,children:[/*#__PURE__*/_jsx(Table.Header,{children:/*#__PURE__*/_jsxs(Table.Row,{children:[/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"ID\"}),/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"First Name\"}),/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"Last Name\"}),/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"Email\"}),/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"Hashed Password\"})]})}),/*#__PURE__*/_jsx(Table.Body,{children:users.map(function(user,index){return/*#__PURE__*/_jsxs(Table.Row,{children:[/*#__PURE__*/_jsx(Table.Cell,{children:user.userId}),/*#__PURE__*/_jsx(Table.Cell,{children:user.firstName}),/*#__PURE__*/_jsx(Table.Cell,{children:user.lastName}),/*#__PURE__*/_jsx(Table.Cell,{children:user.email}),/*#__PURE__*/_jsx(Table.Cell,{children:user.password})]},index);})})]})]})});};export default AuthList;","map":{"version":3,"names":["React","useEffect","useState","Table","useSelector","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","AuthList","props","_useSelector","store","auth","tokenType","accessToken","_useState","_useState2","_slicedToArray","users","setUsers","fetchUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","requestBody","request","requestJson","wrap","_callee$","_context","prev","next","concat","roleID","method","headers","Authorization","fetch","sent","ok","Error","json","_embedded","stop","apply","arguments","catch","e","message","children","className","header","celled","fixed","singleLine","Header","Row","HeaderCell","Body","map","user","index","Cell","userId","firstName","lastName","email","password"],"sources":["C:/Users/Mehemmed/Desktop/Code{1}/Projects/handcraft/src/main/handcraft-react/src/Utils/AuthList.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Table } from \"semantic-ui-react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport UserModel from \"../Models/UserModel\";\r\n\r\nconst AuthList:React.FC<{roleID:number,header:string}> = (props) => {\r\n  const { tokenType, accessToken } = useSelector((store: any) => store.auth);\r\n\r\n  const [users, setUsers] = useState<UserModel[]>([]);\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      const url = `http://localhost:8080/api/roleses/${props.roleID}/users`;\r\n      const requestBody = {\r\n        method: \"GET\",\r\n        headers: {\r\n          Authorization: `${tokenType} ${accessToken}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      };\r\n      const request = await fetch(url, requestBody);\r\n      if (!request.ok) {\r\n        throw new Error(\"Something went wrong!\");\r\n      }\r\n      const requestJson = await request.json();\r\n      setUsers(requestJson._embedded.users);\r\n    };\r\n    fetchUsers().catch((e: any) => e.message);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"content-page\">\r\n        <h2 className=\"create-product-header text-center\">{props.header} List</h2>\r\n        <hr />\r\n        <Table celled fixed singleLine>\r\n          <Table.Header>\r\n            <Table.Row>\r\n              <Table.HeaderCell>ID</Table.HeaderCell>\r\n              <Table.HeaderCell>First Name</Table.HeaderCell>\r\n              <Table.HeaderCell>Last Name</Table.HeaderCell>\r\n              <Table.HeaderCell>Email</Table.HeaderCell>\r\n              <Table.HeaderCell>Hashed Password</Table.HeaderCell>\r\n            </Table.Row>\r\n          </Table.Header>\r\n\r\n          <Table.Body>\r\n            {users.map((user: UserModel, index) => (\r\n              <Table.Row key={index}>\r\n                <Table.Cell>{user.userId}</Table.Cell>\r\n                <Table.Cell>{user.firstName}</Table.Cell>\r\n                <Table.Cell>{user.lastName}</Table.Cell>\r\n                <Table.Cell>{user.email}</Table.Cell>\r\n                <Table.Cell>{user.password}</Table.Cell>\r\n              </Table.Row>\r\n            ))}\r\n          </Table.Body>\r\n        </Table>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AuthList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}