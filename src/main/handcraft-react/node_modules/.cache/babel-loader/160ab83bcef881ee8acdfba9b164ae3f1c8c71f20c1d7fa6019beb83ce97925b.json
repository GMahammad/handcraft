{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Mehemmed/Desktop/Code{1}/Projects/handcraft/src/main/handcraft-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Mehemmed/Desktop/Code{1}/Projects/handcraft/src/main/handcraft-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var fetchProductByAllInputs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(searchTitle,categoryId,minPrice,maxPrice,setProducts,setPriceError,currentPage,productPerPage,setTotalPages,setTotalElements,sortUrl){var url,responseData,responseJson;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(isNaN(maxPrice)||isNaN(minPrice))){_context.next=4;break;}setPriceError(true);_context.next=23;break;case 4:setPriceError(false);url=\"\";if(searchTitle!==\"\"&&categoryId!==0&&minPrice!==0&&maxPrice!==10000){url=\"http://localhost:8080/api/products/search/findByProductNameContainingIgnoreCaseAndCategoryAndPriceBetween?productName=\".concat(searchTitle,\"&category=\").concat(categoryId,\"%20&minPrice=\").concat(minPrice,\"%20&maxPrice=\").concat(maxPrice,\"%20&page=\").concat(currentPage-1,\"&size=\").concat(productPerPage);}else if(searchTitle!==\"\"&&categoryId!==0&&minPrice===0&&maxPrice===10000){url=\"http://localhost:8080/api/products/search/findByProductNameContainingIgnoreCaseAndCategory?productName=\".concat(searchTitle,\"&category=\").concat(categoryId,\"%20\");}else if(searchTitle!==\"\"&&categoryId===0&&minPrice===0&&maxPrice===10000){url=\"http://localhost:8080/api/products/search/findByProductNameContainingIgnoreCase?productName=\".concat(searchTitle,\"&page=\").concat(currentPage-1,\"&size=\").concat(productPerPage);}else if(searchTitle!==\"\"&&categoryId===0&&minPrice!==0&&maxPrice!==10000){url=\"http://localhost:8080/api/products/search/findByProductNameContainingIgnoreCaseAndPriceBetween?productName=\".concat(searchTitle,\"&minPrice=\").concat(minPrice,\"%20&maxPrice=\").concat(maxPrice,\"%20&page=\").concat(currentPage-1,\"&size=\").concat(productPerPage);}else if(searchTitle===\"\"&&categoryId!==0&&minPrice!==0&&maxPrice!==10000){url=\"http://localhost:8080/api/products/search/findByCategoryAndPriceBetween?category=\".concat(categoryId,\"%20&minPrice=\").concat(minPrice,\"%20&maxPrice=\").concat(maxPrice,\"%20&page=\").concat(currentPage-1,\"&size=\").concat(productPerPage);}else if(searchTitle===\"\"&&categoryId!==0&&minPrice===0&&maxPrice===10000){url=\"http://localhost:8080/api/products/search/findByCategory?category=\".concat(categoryId,\"%20&page=\").concat(currentPage-1,\"&size=\").concat(productPerPage);}else if(searchTitle===\"\"&&categoryId===0&&minPrice!==0&&maxPrice!==10000){url=\"http://localhost:8080/api/products/search/findByPriceBetween?minPrice=\".concat(minPrice,\"%20&maxPrice=\").concat(maxPrice,\"%20&page=\").concat(currentPage-1,\"&size=\").concat(productPerPage);}else{url=\"http://localhost:8080/api/products?page=\".concat(currentPage-1,\"&size=\").concat(productPerPage);}if(sortUrl!==\"&sort=\"){url+=sortUrl;}if(!(maxPrice>minPrice)){_context.next=22;break;}_context.next=11;return fetch(url);case 11:responseData=_context.sent;if(responseData.ok){_context.next=14;break;}throw new Error(\"Something went wrong!\");case 14:_context.next=16;return responseData.json();case 16:responseJson=_context.sent;setTotalPages(responseJson.page.totalPages);setProducts(responseJson._embedded.products);setTotalElements(responseJson.page.totalElements);_context.next=23;break;case 22:setPriceError(true);case 23:case\"end\":return _context.stop();}},_callee);}));return function fetchProductByAllInputs(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8,_x9,_x10,_x11){return _ref.apply(this,arguments);};}();export{fetchProductByAllInputs};","map":{"version":3,"names":["fetchProductByAllInputs","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","searchTitle","categoryId","minPrice","maxPrice","setProducts","setPriceError","currentPage","productPerPage","setTotalPages","setTotalElements","sortUrl","url","responseData","responseJson","wrap","_callee$","_context","prev","next","isNaN","concat","fetch","sent","ok","Error","json","page","totalPages","_embedded","products","totalElements","stop","_x","_x2","_x3","_x4","_x5","_x6","_x7","_x8","_x9","_x10","_x11","apply","arguments"],"sources":["C:/Users/Mehemmed/Desktop/Code{1}/Projects/handcraft/src/main/handcraft-react/src/Utils/SearchFunction.tsx"],"sourcesContent":["import { Dispatch, SetStateAction } from \"react\";\r\nimport ProductModel from \"../Models/ProductModel\";\r\n\r\nconst fetchProductByAllInputs = async (\r\n  searchTitle: string,\r\n  categoryId: number,\r\n  minPrice: number,\r\n  maxPrice: number,\r\n  setProducts: Dispatch<SetStateAction<ProductModel[]>>,\r\n  setPriceError: Dispatch<SetStateAction<boolean>>,\r\n  currentPage: number,\r\n  productPerPage: number,\r\n  setTotalPages: Dispatch<SetStateAction<number>>,\r\n  setTotalElements: Dispatch<SetStateAction<number>>,\r\n  sortUrl: string\r\n) => {\r\n  if (isNaN(maxPrice) || isNaN(minPrice)) {\r\n    setPriceError(true);\r\n  } else {\r\n    setPriceError(false);\r\n    let url = \"\";\r\n    if (\r\n      searchTitle !== \"\" &&\r\n      categoryId !== 0 &&\r\n      minPrice !== 0 &&\r\n      maxPrice !== 10000\r\n    ) {\r\n      url = `http://localhost:8080/api/products/search/findByProductNameContainingIgnoreCaseAndCategoryAndPriceBetween?productName=${searchTitle}&category=${categoryId}%20&minPrice=${minPrice}%20&maxPrice=${maxPrice}%20&page=${\r\n        currentPage - 1\r\n      }&size=${productPerPage}`;\r\n    } else if (\r\n      searchTitle !== \"\" &&\r\n      categoryId !== 0 &&\r\n      minPrice === 0 &&\r\n      maxPrice === 10000\r\n    ) {\r\n      url = `http://localhost:8080/api/products/search/findByProductNameContainingIgnoreCaseAndCategory?productName=${searchTitle}&category=${categoryId}%20`;\r\n    } else if (\r\n      searchTitle !== \"\" &&\r\n      categoryId === 0 &&\r\n      minPrice === 0 &&\r\n      maxPrice === 10000\r\n    ) {\r\n      url = `http://localhost:8080/api/products/search/findByProductNameContainingIgnoreCase?productName=${searchTitle}&page=${\r\n        currentPage - 1\r\n      }&size=${productPerPage}`;\r\n    } else if (\r\n      searchTitle !== \"\" &&\r\n      categoryId === 0 &&\r\n      minPrice !== 0 &&\r\n      maxPrice !== 10000\r\n    ) {\r\n      url = `http://localhost:8080/api/products/search/findByProductNameContainingIgnoreCaseAndPriceBetween?productName=${searchTitle}&minPrice=${minPrice}%20&maxPrice=${maxPrice}%20&page=${\r\n        currentPage - 1\r\n      }&size=${productPerPage}`;\r\n    } else if (\r\n      searchTitle === \"\" &&\r\n      categoryId !== 0 &&\r\n      minPrice !== 0 &&\r\n      maxPrice !== 10000\r\n    ) {\r\n      url = `http://localhost:8080/api/products/search/findByCategoryAndPriceBetween?category=${categoryId}%20&minPrice=${minPrice}%20&maxPrice=${maxPrice}%20&page=${\r\n        currentPage - 1\r\n      }&size=${productPerPage}`;\r\n    } else if (\r\n      searchTitle === \"\" &&\r\n      categoryId !== 0 &&\r\n      minPrice === 0 &&\r\n      maxPrice === 10000\r\n    ) {\r\n      url = `http://localhost:8080/api/products/search/findByCategory?category=${categoryId}%20&page=${\r\n        currentPage - 1\r\n      }&size=${productPerPage}`;\r\n    } else if (\r\n      searchTitle === \"\" &&\r\n      categoryId === 0 &&\r\n      minPrice !== 0 &&\r\n      maxPrice !== 10000\r\n    ) {\r\n      url = `http://localhost:8080/api/products/search/findByPriceBetween?minPrice=${minPrice}%20&maxPrice=${maxPrice}%20&page=${\r\n        currentPage - 1\r\n      }&size=${productPerPage}`;\r\n    } else {\r\n      url = `http://localhost:8080/api/products?page=${\r\n        currentPage - 1\r\n      }&size=${productPerPage}`;\r\n    }\r\n    if (sortUrl !== \"&sort=\") {\r\n      url += sortUrl;\r\n    }\r\n    if (maxPrice > minPrice) {\r\n      const responseData = await fetch(url);\r\n      if (!responseData.ok) {\r\n        throw new Error(\"Something went wrong!\");\r\n      }\r\n\r\n      const responseJson = await responseData.json();\r\n      setTotalPages(responseJson.page.totalPages);\r\n      setProducts(responseJson._embedded.products);\r\n      setTotalElements(responseJson.page.totalElements);\r\n    } else {\r\n      setPriceError(true);\r\n    }\r\n  }\r\n};\r\n\r\nexport { fetchProductByAllInputs };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}