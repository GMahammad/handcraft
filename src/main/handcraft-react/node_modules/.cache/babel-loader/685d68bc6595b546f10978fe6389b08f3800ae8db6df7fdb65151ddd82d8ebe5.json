{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  cartItems: [],\n  total: 0,\n  isLoadingCart: true,\n  count: 0,\n  hello: []\n};\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    clearCart: state => {\n      state.cartItems = [];\n      state.count = 0;\n    },\n    addToList: (state, action) => {\n      const {\n        todoTitle,\n        todoDesc\n      } = action.payload;\n      const currentDate = new Date();\n      const hour = currentDate.getHours();\n      const minute = currentDate.getMinutes();\n      const currentLocalTime = `${hour < 10 ? '0' : ''}${hour}:${minute < 10 ? '0' : ''}${minute}`;\n      state.todoItems.push({\n        todoTitle: todoTitle,\n        todoDesc: todoDesc,\n        todoCreatedAt: currentLocalTime\n      });\n      state.count = state.count + 1;\n    },\n    removeItem: (state, action) => {\n      const {\n        productId,\n        color,\n        count\n      } = action.payload;\n      state.cartItems = state.cartItems.filter(item => item.item.productId !== productId || item.color !== color);\n      state.count -= count;\n\n      // const indexOfElem = state.cartItems.findIndex(\n      //   (item: any) => item.item.productId === productId\n      // );\n      // let selectedItem = data.filter((item:any)=> item.item.productId === productId && item.color===color)\n      // state.cartItems = data.filter((item:any)=>item !== selectedItem[0] && item.item.productId !==selectedItem[0].item.productId)\n      // data.forEach((element:any) => {\n      //   if(element.item.productId === productId && element.color === color){\n      //     state.count-= element.count\n      //   }\n      // });\n      // if(state.count > 0){\n      //   // state.count -= removedCount;\n      //   state.cartItems = state.cartItems.filter(\n      //     (item: any, index: number) =>\n      //     item.item.productId !== productId || index !== indexOfElem\n      //     );\n      // }else{\n      //   state.count = 0\n      // }\n    },\n\n    // cartItems = [{productId,n,p,...}]\n    calculateTotals: state => {\n      let totalPrice = 0;\n      state.cartItems.forEach(cartItem => {\n        totalPrice += cartItem.item.price * cartItem.count;\n      });\n      state.total = totalPrice;\n    }\n  }\n  // extraReducers:{\n  //   [String(getCardItems.pending)]:(state:any)=>{\n  //       state.isLoadingCart=true\n  //   },\n  //   [String(getCardItems.fulfilled)]:(state:any,action)=>{\n  //       state.isLoadingCart=false;\n  //       let count = 1\n  //       if(state.cartItems[0].items.filter((x:ProductModel)=> x.productId))\n  //       state.cartItems = [{\n  //         items:action.payload,\n  //         count:count\n  //       }]\n  //   },\n  //   [String(getCardItems.rejected)]:(state:any)=>{\n  //       state.isLoadingCart=true;\n  //   }\n  // }\n});\n\nexport const {\n  clearCart,\n  removeItem,\n  calculateTotals,\n  addToCart\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","cartItems","total","isLoadingCart","count","hello","cartSlice","name","reducers","clearCart","state","addToList","action","todoTitle","todoDesc","payload","currentDate","Date","hour","getHours","minute","getMinutes","currentLocalTime","todoItems","push","todoCreatedAt","removeItem","productId","color","filter","item","calculateTotals","totalPrice","forEach","cartItem","price","addToCart","actions","reducer"],"sources":["C:/Users/Mehemmed/Desktop/Code{1}/Projects/handcraft/src/main/handcraft-react/src/Cart/cartSlice.ts"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  cartItems: [],\r\n  total: 0,\r\n  isLoadingCart: true,\r\n  count: 0,\r\n  hello: [],\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState,\r\n  reducers: {\r\n    clearCart: (state: any) => {\r\n      state.cartItems = [];\r\n      state.count = 0;\r\n    },\r\n\r\n    addToList: (state, action) => {\r\n      const { todoTitle, todoDesc } = action.payload;\r\n      const currentDate = new Date();\r\n      const hour = currentDate.getHours();\r\n      const minute = currentDate.getMinutes();\r\n      const currentLocalTime = `${hour < 10 ? '0' : ''}${hour}:${minute < 10 ? '0' : ''}${minute}`;\r\n\r\n      state.todoItems.push({\r\n        todoTitle: todoTitle,\r\n        todoDesc: todoDesc,\r\n        todoCreatedAt: currentLocalTime\r\n      });\r\n      state.count = state.count + 1;\r\n    },\r\n\r\n    removeItem: (state: any, action) => {\r\n      const { productId, color,count } = action.payload;\r\n      state.cartItems = state.cartItems.filter(\r\n        (item: any) =>\r\n          item.item.productId !== productId || item.color !== color\r\n      );\r\n      state.count -= count\r\n\r\n      // const indexOfElem = state.cartItems.findIndex(\r\n      //   (item: any) => item.item.productId === productId\r\n      // );\r\n      // let selectedItem = data.filter((item:any)=> item.item.productId === productId && item.color===color)\r\n      // state.cartItems = data.filter((item:any)=>item !== selectedItem[0] && item.item.productId !==selectedItem[0].item.productId)\r\n      // data.forEach((element:any) => {\r\n      //   if(element.item.productId === productId && element.color === color){\r\n      //     state.count-= element.count\r\n      //   }\r\n      // });\r\n      // if(state.count > 0){\r\n      //   // state.count -= removedCount;\r\n      //   state.cartItems = state.cartItems.filter(\r\n      //     (item: any, index: number) =>\r\n      //     item.item.productId !== productId || index !== indexOfElem\r\n      //     );\r\n      // }else{\r\n      //   state.count = 0\r\n      // }\r\n    },\r\n\r\n    // cartItems = [{productId,n,p,...}]\r\n    calculateTotals: (state: any) => {\r\n      let totalPrice = 0;\r\n      state.cartItems.forEach((cartItem: any) => {\r\n        totalPrice += cartItem.item.price * cartItem.count;\r\n      });\r\n\r\n      state.total = totalPrice;\r\n    },\r\n  },\r\n  // extraReducers:{\r\n  //   [String(getCardItems.pending)]:(state:any)=>{\r\n  //       state.isLoadingCart=true\r\n  //   },\r\n  //   [String(getCardItems.fulfilled)]:(state:any,action)=>{\r\n  //       state.isLoadingCart=false;\r\n  //       let count = 1\r\n  //       if(state.cartItems[0].items.filter((x:ProductModel)=> x.productId))\r\n  //       state.cartItems = [{\r\n  //         items:action.payload,\r\n  //         count:count\r\n  //       }]\r\n  //   },\r\n  //   [String(getCardItems.rejected)]:(state:any)=>{\r\n  //       state.isLoadingCart=true;\r\n  //   }\r\n  // }\r\n});\r\nexport const { clearCart, removeItem, calculateTotals, addToCart } =\r\n  cartSlice.actions;\r\nexport default cartSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,YAAY,GAAG;EACnBC,SAAS,EAAE,EAAE;EACbC,KAAK,EAAE,CAAC;EACRC,aAAa,EAAE,IAAI;EACnBC,KAAK,EAAE,CAAC;EACRC,KAAK,EAAE;AACT,CAAC;AAED,MAAMC,SAAS,GAAGP,WAAW,CAAC;EAC5BQ,IAAI,EAAE,MAAM;EACZP,YAAY;EACZQ,QAAQ,EAAE;IACRC,SAAS,EAAGC,KAAU,IAAK;MACzBA,KAAK,CAACT,SAAS,GAAG,EAAE;MACpBS,KAAK,CAACN,KAAK,GAAG,CAAC;IACjB,CAAC;IAEDO,SAAS,EAAEA,CAACD,KAAK,EAAEE,MAAM,KAAK;MAC5B,MAAM;QAAEC,SAAS;QAAEC;MAAS,CAAC,GAAGF,MAAM,CAACG,OAAO;MAC9C,MAAMC,WAAW,GAAG,IAAIC,IAAI,CAAC,CAAC;MAC9B,MAAMC,IAAI,GAAGF,WAAW,CAACG,QAAQ,CAAC,CAAC;MACnC,MAAMC,MAAM,GAAGJ,WAAW,CAACK,UAAU,CAAC,CAAC;MACvC,MAAMC,gBAAgB,GAAI,GAAEJ,IAAI,GAAG,EAAE,GAAG,GAAG,GAAG,EAAG,GAAEA,IAAK,IAAGE,MAAM,GAAG,EAAE,GAAG,GAAG,GAAG,EAAG,GAAEA,MAAO,EAAC;MAE5FV,KAAK,CAACa,SAAS,CAACC,IAAI,CAAC;QACnBX,SAAS,EAAEA,SAAS;QACpBC,QAAQ,EAAEA,QAAQ;QAClBW,aAAa,EAAEH;MACjB,CAAC,CAAC;MACFZ,KAAK,CAACN,KAAK,GAAGM,KAAK,CAACN,KAAK,GAAG,CAAC;IAC/B,CAAC;IAEDsB,UAAU,EAAEA,CAAChB,KAAU,EAAEE,MAAM,KAAK;MAClC,MAAM;QAAEe,SAAS;QAAEC,KAAK;QAACxB;MAAM,CAAC,GAAGQ,MAAM,CAACG,OAAO;MACjDL,KAAK,CAACT,SAAS,GAAGS,KAAK,CAACT,SAAS,CAAC4B,MAAM,CACrCC,IAAS,IACRA,IAAI,CAACA,IAAI,CAACH,SAAS,KAAKA,SAAS,IAAIG,IAAI,CAACF,KAAK,KAAKA,KACxD,CAAC;MACDlB,KAAK,CAACN,KAAK,IAAIA,KAAK;;MAEpB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACF,CAAC;;IAED;IACA2B,eAAe,EAAGrB,KAAU,IAAK;MAC/B,IAAIsB,UAAU,GAAG,CAAC;MAClBtB,KAAK,CAACT,SAAS,CAACgC,OAAO,CAAEC,QAAa,IAAK;QACzCF,UAAU,IAAIE,QAAQ,CAACJ,IAAI,CAACK,KAAK,GAAGD,QAAQ,CAAC9B,KAAK;MACpD,CAAC,CAAC;MAEFM,KAAK,CAACR,KAAK,GAAG8B,UAAU;IAC1B;EACF;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACF,CAAC,CAAC;;AACF,OAAO,MAAM;EAAEvB,SAAS;EAAEiB,UAAU;EAAEK,eAAe;EAAEK;AAAU,CAAC,GAChE9B,SAAS,CAAC+B,OAAO;AACnB,eAAe/B,SAAS,CAACgC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}